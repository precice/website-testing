<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.17"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>preCICE: precice::mapping::impl Namespace Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="additional.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="logo.svg"/></td>
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">preCICE
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.17 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="namespaceprecice.html">precice</a></li><li class="navelem"><a class="el" href="namespaceprecice_1_1mapping.html">mapping</a></li><li class="navelem"><a class="el" href="namespaceprecice_1_1mapping_1_1impl.html">impl</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#typedef-members">Typedefs</a> &#124;
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">precice::mapping::impl Namespace Reference</div>  </div>
</div><!--header-->
<div class="contents">
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="typedef-members"></a>
Typedefs</h2></td></tr>
<tr class="memitem:a86c8969974a4b638d4bc2838f59598df"><td class="memItemLeft" align="right" valign="top">using&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceprecice_1_1mapping_1_1impl.html#a86c8969974a4b638d4bc2838f59598df">Vertices</a> = std::vector&lt; <a class="el" href="classprecice_1_1mesh_1_1Vertex.html">mesh::Vertex</a> &gt;</td></tr>
<tr class="separator:a86c8969974a4b638d4bc2838f59598df"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:a7ccf242183b04a7f69c3bd8cd2d5f5eb"><td class="memItemLeft" align="right" valign="top">double&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceprecice_1_1mapping_1_1impl.html#a7ccf242183b04a7f69c3bd8cd2d5f5eb">estimateClusterRadius</a> (unsigned int verticesPerCluster, <a class="el" href="namespaceprecice_1_1mesh.html#ad5dc7f42c512b2ef50c2d723489bca93">mesh::PtrMesh</a> inMesh, const <a class="el" href="classprecice_1_1mesh_1_1BoundingBox.html">mesh::BoundingBox</a> &amp;bb)</td></tr>
<tr class="memdesc:a7ccf242183b04a7f69c3bd8cd2d5f5eb"><td class="mdescLeft">&#160;</td><td class="mdescRight">Computes an estimate for the cluster radius, which results in approximately <code>verticesPerCluster</code> vertices inside of each cluster. The algorithm generates random samples in the domain and queries the <code>verticesPerCluster</code> nearest-neighbors from the mesh index tree. The cluster radius is then estimated through the distance between the center vertex (random sample) and the vertex the furthest away from the center (being on the edge of the cluster).  <a href="namespaceprecice_1_1mapping_1_1impl.html#a7ccf242183b04a7f69c3bd8cd2d5f5eb">More...</a><br /></td></tr>
<tr class="separator:a7ccf242183b04a7f69c3bd8cd2d5f5eb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa72bfa1b2fbe35a502f820d5da353800"><td class="memItemLeft" align="right" valign="top">std::tuple&lt; double, <a class="el" href="namespaceprecice_1_1mapping_1_1impl.html#a86c8969974a4b638d4bc2838f59598df">Vertices</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceprecice_1_1mapping_1_1impl.html#aa72bfa1b2fbe35a502f820d5da353800">createClustering</a> (<a class="el" href="namespaceprecice_1_1mesh.html#ad5dc7f42c512b2ef50c2d723489bca93">mesh::PtrMesh</a> inMesh, <a class="el" href="namespaceprecice_1_1mesh.html#ad5dc7f42c512b2ef50c2d723489bca93">mesh::PtrMesh</a> outMesh, double relativeOverlap, unsigned int verticesPerCluster, bool projectClustersToInput)</td></tr>
<tr class="memdesc:aa72bfa1b2fbe35a502f820d5da353800"><td class="mdescLeft">&#160;</td><td class="mdescRight">Creates a clustering as a collection of Vertices (representing the cluster centers) and a cluster radius, as required for the partition of unity mapping. The algorithm estimates a cluster radius based on the input parameter <code>verticesPerCluster</code> (see also <a class="el" href="namespaceprecice_1_1mapping_1_1impl.html#a7ccf242183b04a7f69c3bd8cd2d5f5eb">estimateClusterRadius</a> above, which is directly used by the function). Afterwards, the algorithm creates a cartesian-like grid of center vertices, where the distance of the centers is defined through the <code>relativeOverlap</code> and the cluster radius. The parameter <code>projectClustersToInput</code> moves the cartesian center vertices to the closest vertex from the input mesh, which is useful in case of very irregular meshes or shell-shaped meshes. The algorithm also removes potentially empty cluster, i.e., clusters which would have either no vertex from the <code>inMesh</code> or from the <code>outMesh</code> . See also tagEmptyClusters.  <a href="namespaceprecice_1_1mapping_1_1impl.html#aa72bfa1b2fbe35a502f820d5da353800">More...</a><br /></td></tr>
<tr class="separator:aa72bfa1b2fbe35a502f820d5da353800"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<h2 class="groupheader">Typedef Documentation</h2>
<a id="a86c8969974a4b638d4bc2838f59598df"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a86c8969974a4b638d4bc2838f59598df">&#9670;&nbsp;</a></span>Vertices</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">using <a class="el" href="namespaceprecice_1_1mapping_1_1impl.html#a86c8969974a4b638d4bc2838f59598df">precice::mapping::impl::Vertices</a> = typedef std::vector&lt;<a class="el" href="classprecice_1_1mesh_1_1Vertex.html">mesh::Vertex</a>&gt;</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="CreateClustering_8hpp_source.html#l00018">18</a> of file <a class="el" href="CreateClustering_8hpp_source.html">CreateClustering.hpp</a>.</p>

</div>
</div>
<h2 class="groupheader">Function Documentation</h2>
<a id="aa72bfa1b2fbe35a502f820d5da353800"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa72bfa1b2fbe35a502f820d5da353800">&#9670;&nbsp;</a></span>createClustering()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::tuple&lt;double, <a class="el" href="namespaceprecice_1_1mapping_1_1impl.html#a86c8969974a4b638d4bc2838f59598df">Vertices</a>&gt; precice::mapping::impl::createClustering </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="namespaceprecice_1_1mesh.html#ad5dc7f42c512b2ef50c2d723489bca93">mesh::PtrMesh</a>&#160;</td>
          <td class="paramname"><em>inMesh</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="namespaceprecice_1_1mesh.html#ad5dc7f42c512b2ef50c2d723489bca93">mesh::PtrMesh</a>&#160;</td>
          <td class="paramname"><em>outMesh</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>relativeOverlap</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned int&#160;</td>
          <td class="paramname"><em>verticesPerCluster</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>projectClustersToInput</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Creates a clustering as a collection of Vertices (representing the cluster centers) and a cluster radius, as required for the partition of unity mapping. The algorithm estimates a cluster radius based on the input parameter <code>verticesPerCluster</code> (see also <a class="el" href="namespaceprecice_1_1mapping_1_1impl.html#a7ccf242183b04a7f69c3bd8cd2d5f5eb">estimateClusterRadius</a> above, which is directly used by the function). Afterwards, the algorithm creates a cartesian-like grid of center vertices, where the distance of the centers is defined through the <code>relativeOverlap</code> and the cluster radius. The parameter <code>projectClustersToInput</code> moves the cartesian center vertices to the closest vertex from the input mesh, which is useful in case of very irregular meshes or shell-shaped meshes. The algorithm also removes potentially empty cluster, i.e., clusters which would have either no vertex from the <code>inMesh</code> or from the <code>outMesh</code> . See also tagEmptyClusters. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">inMesh</td><td>The input mesh (input mesh for consistent, output mesh for conservative mappings), on which the clustering is computed. The input parameters <code>verticesPerCluster</code> and <code>projectClustersToInput</code> refer to the <code>inMesh</code> </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">outMesh</td><td>The output mesh (output mesh for consistent, input mesh for conservative mappings), </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">relativeOverlap</td><td>Value between zero and one, which steers the relative distance between cluster centers. A value of zero leads to no overlap, a value of one would lead to a complete overlap between clusters. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">verticesPerCluster</td><td>Target number of vertices per partition. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">projectClustersToInput</td><td>if enabled, moves the cluster centers to the closest vertex of the <code>inMesh</code> </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>a tuple for the cluster radius and a vector of vertices marking the cluster centers </dd></dl>

<p class="definition">Definition at line <a class="el" href="CreateClustering_8hpp_source.html#l00304">304</a> of file <a class="el" href="CreateClustering_8hpp_source.html">CreateClustering.hpp</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="namespaceprecice_1_1mapping_1_1impl_aa72bfa1b2fbe35a502f820d5da353800_cgraph.svg" width="100%" height="584"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
</div>

</div>
</div>
<a id="a7ccf242183b04a7f69c3bd8cd2d5f5eb"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7ccf242183b04a7f69c3bd8cd2d5f5eb">&#9670;&nbsp;</a></span>estimateClusterRadius()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">double precice::mapping::impl::estimateClusterRadius </td>
          <td>(</td>
          <td class="paramtype">unsigned int&#160;</td>
          <td class="paramname"><em>verticesPerCluster</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="namespaceprecice_1_1mesh.html#ad5dc7f42c512b2ef50c2d723489bca93">mesh::PtrMesh</a>&#160;</td>
          <td class="paramname"><em>inMesh</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="classprecice_1_1mesh_1_1BoundingBox.html">mesh::BoundingBox</a> &amp;&#160;</td>
          <td class="paramname"><em>bb</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Computes an estimate for the cluster radius, which results in approximately <code>verticesPerCluster</code> vertices inside of each cluster. The algorithm generates random samples in the domain and queries the <code>verticesPerCluster</code> nearest-neighbors from the mesh index tree. The cluster radius is then estimated through the distance between the center vertex (random sample) and the vertex the furthest away from the center (being on the edge of the cluster). </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">verticesPerCluster</td><td>target number of vertices in each cluster. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">inMesh</td><td>mesh we want to create the clustering on </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">bb</td><td>bounding box of the domain. Used to place the random samples in the domain.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The estimate for the cluster radius. </dd></dl>

<p class="definition">Definition at line <a class="el" href="CreateClustering_8hpp_source.html#l00225">225</a> of file <a class="el" href="CreateClustering_8hpp_source.html">CreateClustering.hpp</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="namespaceprecice_1_1mapping_1_1impl_a7ccf242183b04a7f69c3bd8cd2d5f5eb_cgraph.svg" width="100%" height="437"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
</div>

</div>
</div>
</div><!-- contents -->
